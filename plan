shell: rewrite moving simulation.
--
test client protocol.
